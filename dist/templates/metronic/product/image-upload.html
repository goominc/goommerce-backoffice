<div class="page-head">
  <div class="container">
    <div id="contentTitle"></div> <!-- commonly initialized -->
  </div>
</div>
<div class="page-content">
  <div class="container">
    <div id="breadcrumb"></div> <!-- commonly initialized -->
    <div class="page-content-inner">
      <div class="row">
        <div class="col-md-12">
          <div class="portlet light">
            <div class="portlet-body">
              <div class="btn-group">
                <button type="button" class="btn btn-default">{{activeDate}}</button>
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded="false"><i class="fa fa-angle-down"></i></button>
                <ul class="dropdown-menu" role="menu">
                  <li data-ng-repeat="date in dates">
                    <a data-ng-click="setDate(date)">{{date}}</a>
                  </li>
                </ul>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-primary">{{activeBrand.brand.displayName}}</button>
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-angle-down"></i></button>
                <ul class="dropdown-menu" role="menu">
                  <li data-ng-repeat="brand in brands">
                    <a data-ng-click="setActiveBrand(brand)">
                      {{brand.brand.displayName}}
                    </a>
                  </li>
                </ul>
              </div>
              <div class="btn-group">
                <button type="button" class="btn btn-primary">{{uploadTypes[uploadTypeIndex].name}}</button>
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-angle-down"></i></button>
                <ul class="dropdown-menu" role="menu">
                  <li data-ng-repeat="uploadType in uploadTypes">
                    <a data-ng-click="changeUploadType($index)">
                      {{uploadType.name}}
                    </a>
                  </li>
                </ul>
              </div>
              <button data-ng-click="clearImages()" class="btn red">이미지 삭제</button>
              <span class="btn green fileinput-button" style="margin: 15px 0;">
                <i class="fa fa-plus"></i> {{'main.addImageButton' | translate}}
                <input type="file" id="image-upload-button" webkitdirectory directory multiple/>
              </span>
              <button data-ng-click="saveImages()" class="btn green">{{'main.saveButton' | translate}}</button>
              <div class="row">
                <div class="col-md-12">
                  <h2>{{activeBrand.brand.displayName}}</h2>
                  <table class="table table-bordered table-hover">
                    <thead>
                    <tr>
                      <th width="15%">Product</th>
                      <th width="15%">Color</th>
                      <th width="5%">SlotCount</th>
                      <th width="5%">MainImage</th>
                      <th width="60%">Images</th>
                    </tr>
                    </thead>
                    <tbody class="cell-center" data-ng-repeat="item in items">
                    <tr>
                      <td><a ui-sref="product.edit({productId: item.product.id})">{{item.product.name.ko}}</a></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr data-ng-repeat="row in item.rows">
                      <td data-ng-if="row.rowspan > 0" rowspan="{{row.rowspan}}"></td>
                      <td data-ng-if="row.rowspan > 0" rowspan="{{row.rowspan}}">{{row.color}}</td>
                      <td data-ng-if="row.rowspan > 0" rowspan="{{row.rowspan}}">
                        <input class="product-small-number-input" type="number" min="0" data-ng-model="row.slotCount" />
                      </td>
                      <td data-ng-if="row.rowspan > 0" rowspan="{{row.rowspan}}">
                        <input id="check-{{item.product.id}}-{{row.sku}}" type="checkbox"
                               data-ng-model="row.mainProduct"/>
                        <label style="margin: 0;" for="check-{{item.product.id}}-{{row.sku}}"></label>
                      </td>
                      <td style="text-align: left !important;" data-ng-if="row.rowspan > 0"
                        rowspan="{{row.rowspan}}"
                        class="image-container" ui-sortable="imageSortable" data-ng-model="row.images"
                      >
                        <div class="product-image-wrap" data-ng-repeat="image in row.images">
                          <img data-ng-src="{{image.url}}" />
                          <div class="delete-button" data-ng-click="deleteImage(row, $index)"><i class="fa fa-remove"></i></div>
                        </div>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
